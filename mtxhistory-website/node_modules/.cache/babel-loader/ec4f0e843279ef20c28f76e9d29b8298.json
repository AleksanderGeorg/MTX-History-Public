{"remainingRequest":"C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\src\\components\\Footer\\Footer.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\src\\components\\Footer\\Footer.vue","mtime":1603473541912},{"path":"C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2FsZWtzL0RvY3VtZW50cy9Qcm9ncmFtbWluZy9tdHhoaXN0b3J5L210eGhpc3Rvcnktd2Vic2l0ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmVyc2lvbjogJzEuMCcsCiAgICAgIHllYXI6ICcyMDIwJywKICAgICAgbGFzdFVwZGF0ZTogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXROWlRpbWU6IGZ1bmN0aW9uIGdldE5aVGltZSgpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgYXhpb3MuZ2V0KCdodHRwczovL3dvcmxkdGltZWFwaS5vcmcvYXBpL3RpbWV6b25lL1BhY2lmaWMvQXVja2xhbmQnKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICB2YXIgTlpUaW1lID0gZGF0YS5kYXRhLmRhdGV0aW1lOwogICAgICAgICAgcmVzb2x2ZShOWlRpbWUuc3Vic3RyKDAsIDEwKSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIGJvb3RpbmcgdXAgb3IgdW5kZXIgbWFpbnRlbmFuY2UhJyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZURhaWx5OiBmdW5jdGlvbiB1cGRhdGVEYWlseSgpIHsKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICBtZXRob2Q6ICdwdXQnLAogICAgICAgIHVybDogJ2h0dHBzOi8vbXR4aGlzdG9yeS1iYWNrZW5kLmhlcm9rdWFwcC5jb20vdXBkYXRlL2RhaWx5JywKICAgICAgICBoZWFkZXJzOiB7fQogICAgICB9OwogICAgICBheGlvcyhjb25maWcpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGRhdGVDb25maWcgPSB7CiAgICAgICAgICBtZXRob2Q6ICdwdXQnLAogICAgICAgICAgdXJsOiAnaHR0cHM6Ly9tdHhoaXN0b3J5LWJhY2tlbmQuaGVyb2t1YXBwLmNvbS91cGRhdGUvc2V0TGFzdFVwZGF0ZScsCiAgICAgICAgICBoZWFkZXJzOiB7fQogICAgICAgIH07CiAgICAgICAgYXhpb3MoZGF0ZUNvbmZpZykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXR0aW5nIGxhc3QgdXBkYXRlIScpOwogICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSkpOwogICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSkpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFVwZGF0ZURhdGE6IGZ1bmN0aW9uIGdldFVwZGF0ZURhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5sYXN0VXBkYXRlID09ICcnKSB7CiAgICAgICAgYXhpb3MuZ2V0KCdodHRwczovL210eGhpc3RvcnktYmFja2VuZC5oZXJva3VhcHAuY29tL3VwZGF0ZS9nZXRMYXN0VXBkYXRlJykudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGRhdGEpIHsKICAgICAgICAgICAgdmFyIE5aVGltZTsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgIF90aGlzLmxhc3RVcGRhdGUgPSBkYXRhLmRhdGFbMF0udXBkYXRlRGF0ZTsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0TlpUaW1lKCk7CgogICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgTlpUaW1lID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICAgICAgaWYgKE5aVGltZSA+IF90aGlzLmxhc3RVcGRhdGUpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZURhaWx5KCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGNvbnNvbGUubG9nKCdBbGwgaXMgdXAgdG8gZGF0ZSEnKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICB9KSk7CgogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgfTsKICAgICAgICB9KCkpLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBib290aW5nIHVwIG9yIHVuZGVyIG1haW50ZW5hbmNlIScpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgaXNTZWFyY2g6IGZ1bmN0aW9uIGlzU2VhcmNoKCkgewogICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYgPT0gImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC8iIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmID09ICJodHRwOi8vbXR4aGlzdG9yeS5jb20vIikgcmV0dXJuIHRydWU7ZWxzZSByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmID09ICJodHRwOi8vbG9jYWxob3N0OjgwODAvIiB8fCB3aW5kb3cubG9jYXRpb24uaHJlZiA9PSAiaHR0cDovL210eGhpc3RvcnkuY29tLyIpIHsKICAgICAgdGhpcy5nZXRVcGRhdGVEYXRhKCk7CiAgICAgIHNldEludGVydmFsKHRoaXMuZ2V0U2VhcmNoRGF0YSwgMTAwMCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Footer.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div id=\"footer\">\r\n      <div id=\"appDescription\">\r\n        <p>\r\n        This is a fan made website for the daily deals available on Path of Exile Shop and their historical prices.\r\n        </p>\r\n        <p>\r\n          All videos and microtransaction data are from <a href=\"https://www.pathofexile.com/shop/category/daily-deals\" target=\"_blank\">https://www.pathofexile.com/shop/category/daily-deals</a>\r\n        </p>\r\n        <p>\r\n          All images are from <a href=\"https://pathofexile.gamepedia.com\" target=\"_blank\">https://pathofexile.gamepedia.com</a>\r\n        </p>\r\n        <p>\r\n          <a target=\"_blank\" href=\"https://icons8.com/icons/set/queen-uk\">Queen Crown icon</a> icon by <a target=\"_blank\" href=\"https://icons8.com\">Icons8</a>\r\n        </p>\r\n      </div>\r\n      <div id=\"appInfo\">\r\n        <h5>MTX History {{ year }}</h5>\r\n        <h6>Version {{ version }}</h6>\r\n        <h6 v-if=\"isSearch()\">Last updated NZDT {{ lastUpdate }}</h6>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import axios from 'axios'\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        version: '1.0',\r\n        year: '2020',\r\n        lastUpdate: ''\r\n      }\r\n    },\r\n\r\n    methods: {\r\n      getNZTime() {\r\n        return new Promise(resolve => {\r\n          axios\r\n          .get('https://worldtimeapi.org/api/timezone/Pacific/Auckland')\r\n          .then(data => {\r\n            var NZTime = data.data.datetime;\r\n            resolve(NZTime.substr(0,10));\r\n          })\r\n          .catch(() => {\r\n            console.log('Database booting up or under maintenance!')\r\n          });\r\n        })\r\n      },\r\n\r\n      updateDaily() {\r\n        var config = {\r\n          method: 'put',\r\n          url: 'https://mtxhistory-backend.herokuapp.com/update/daily',\r\n          headers: { }\r\n        };\r\n        axios(config)\r\n        .then(function (response) {\r\n          var dateConfig = {\r\n            method: 'put',\r\n            url: 'https://mtxhistory-backend.herokuapp.com/update/setLastUpdate',\r\n            headers: {}\r\n          }\r\n          axios(dateConfig)\r\n          .then(function (response) {\r\n            console.log('Setting last update!');\r\n            console.log(JSON.stringify(response.data));\r\n            location.reload();\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n          console.log(JSON.stringify(response.data));\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n      },\r\n\r\n      getUpdateData() {\r\n        if(this.lastUpdate == ''){\r\n          axios\r\n          .get('https://mtxhistory-backend.herokuapp.com/update/getLastUpdate')\r\n          .then( async data => {\r\n            this.lastUpdate = data.data[0].updateDate;\r\n            var NZTime = await this.getNZTime();\r\n            if(NZTime > this.lastUpdate) {\r\n              this.updateDaily();\r\n            }\r\n            else console.log('All is up to date!');\r\n          })\r\n          .catch(() => {\r\n            console.log('Database booting up or under maintenance!')\r\n          });\r\n        }\r\n      },\r\n\r\n      isSearch() {\r\n        if(window.location.href == \"http://localhost:8080/\" || window.location.href == \"http://mtxhistory.com/\")\r\n          return true;\r\n        else\r\n          return false;\r\n      }\r\n    },\r\n\r\n    mounted(){\r\n      if(window.location.href == \"http://localhost:8080/\" || window.location.href == \"http://mtxhistory.com/\") {\r\n        this.getUpdateData();\r\n        setInterval(this.getSearchData, 1000);\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  h5 {\r\n    text-align: right;\r\n    margin-bottom: 5px;\r\n  }\r\n\r\n  h6 {\r\n    margin: 0px;\r\n    text-align: right;\r\n    padding-bottom: 10px;\r\n  }\r\n\r\n  p {\r\n    font-size: small;\r\n  }\r\n\r\n  #appDescription{\r\n    float: left;\r\n    width: 70%;\r\n  }\r\n\r\n  #appInfo {\r\n    float: right;\r\n    width: 20%;\r\n  }\r\n</style>"],"sourceRoot":"src/components/Footer"}]}