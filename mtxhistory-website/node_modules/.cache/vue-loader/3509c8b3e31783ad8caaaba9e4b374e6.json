{"remainingRequest":"C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\src\\components\\Footer\\Footer.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\src\\components\\Footer\\Footer.vue","mtime":1604142399787},{"path":"C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmVyc2lvbjogJzEuMScsCiAgICAgIHllYXI6ICcyMDIwJywKICAgICAgbGFzdFVwZGF0ZTogJycKICAgIH0KICB9LAoKICBjb21wdXRlZDogewogICAgbGFzdFVwZGF0ZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLmxhc3RVcGRhdGU7CiAgICB9CiAgfSwKCiAgbWV0aG9kczogewogICAgZ2V0TlpUaW1lKCkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgYXhpb3MKICAgICAgICAuZ2V0KCdodHRwczovL3dvcmxkdGltZWFwaS5vcmcvYXBpL3RpbWV6b25lL1BhY2lmaWMvQXVja2xhbmQnKQogICAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgICAgdmFyIE5aVGltZSA9IGRhdGEuZGF0YS5kYXRldGltZTsKICAgICAgICAgIHJlc29sdmUoW05aVGltZS5zdWJzdHIoMCwxMCksIE5aVGltZS5zcGxpdCgnKycpWzBdXSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIGJvb3RpbmcgdXAgb3IgdW5kZXIgbWFpbnRlbmFuY2UhJykKICAgICAgICB9KTsKICAgICAgfSkKICAgIH0sCgogICAgdXBkYXRlRGFpbHkoKSB7CiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgbWV0aG9kOiAncHV0JywKICAgICAgICB1cmw6ICdodHRwczovL210eGhpc3RvcnktYmFja2VuZC5oZXJva3VhcHAuY29tL3VwZGF0ZS9kYWlseScsCiAgICAgICAgaGVhZGVyczogeyB9CiAgICAgIH07CiAgICAgIGF4aW9zKGNvbmZpZykKICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGRhdGVDb25maWcgPSB7CiAgICAgICAgICBtZXRob2Q6ICdwdXQnLAogICAgICAgICAgdXJsOiAnaHR0cHM6Ly9tdHhoaXN0b3J5LWJhY2tlbmQuaGVyb2t1YXBwLmNvbS91cGRhdGUvc2V0TGFzdFVwZGF0ZScsCiAgICAgICAgICBoZWFkZXJzOiB7fQogICAgICAgIH0KICAgICAgICBheGlvcyhkYXRlQ29uZmlnKQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgY29uc29sZS5sb2coJ1NldHRpbmcgbGFzdCB1cGRhdGUhJyk7CiAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSk7CiAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSk7CiAgICAgIH0pCiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKCiAgICBnZXRVcGRhdGVEYXRhKCkgewogICAgICBpZih0aGlzLmxhc3RVcGRhdGUgPT0gJycpewogICAgICAgIGF4aW9zCiAgICAgICAgLmdldCgnaHR0cHM6Ly9tdHhoaXN0b3J5LWJhY2tlbmQuaGVyb2t1YXBwLmNvbS91cGRhdGUvZ2V0TGFzdFVwZGF0ZScpCiAgICAgICAgLnRoZW4oIGFzeW5jIGRhdGEgPT4gewogICAgICAgICAgdGhpcy5sYXN0VXBkYXRlID0gZGF0YS5kYXRhWzBdLnVwZGF0ZURhdGU7CiAgICAgICAgICB2YXIgTlpUaW1lID0gYXdhaXQgdGhpcy5nZXROWlRpbWUoKTsKICAgICAgICAgIGlmKE5aVGltZVswXSA+IHRoaXMubGFzdFVwZGF0ZSAmJiAoRGF0ZS5wYXJzZShOWlRpbWVbMV0pLURhdGUucGFyc2UodGhpcy5sYXN0VXBkYXRlICsnIDE2OjA1JykpLzM2ZTUgPiAyNC4wMikgewogICAgICAgICAgICB0aGlzLnVwZGF0ZURhaWx5KCk7CiAgICAgICAgICB9CiAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ0FsbCBpcyB1cCB0byBkYXRlIScpOwogICAgICAgICAgICB0aGlzLmxhc3RVcGRhdGUgPSBOWlRpbWVbMF07CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIGJvb3RpbmcgdXAgb3IgdW5kZXIgbWFpbnRlbmFuY2UhJykKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICBpc1NlYXJjaCgpIHsKICAgICAgaWYod2luZG93LmxvY2F0aW9uLmhyZWYgPT0gImh0dHBzOi8vbXR4aGlzdG9yeS5jb20vIiB8fCB3aW5kb3cubG9jYXRpb24uaHJlZiA9PSAiaHR0cDovL210eGhpc3RvcnkuY29tLyIgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYgPT0gImh0dHA6Ly93d3cubXR4aGlzdG9yeS5jb20vIiB8fCB3aW5kb3cubG9jYXRpb24uaHJlZiA9PSAiaHR0cHM6Ly93d3cubXR4aGlzdG9yeS5jb20vIiB8fCB3aW5kb3cubG9jYXRpb24uaHJlZiA9PSAiaHR0cHM6Ly9tdHhoaXN0b3J5LmNvbSIgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYgPT0gImh0dHA6Ly9tdHhoaXN0b3J5LmNvbSIgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYgPT0gImh0dHA6Ly93d3cubXR4aGlzdG9yeS5jb20iIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmID09ICJodHRwczovL3d3dy5tdHhoaXN0b3J5LmNvbSIpCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIGVsc2UKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSwKCiAgbW91bnRlZCgpewogICAgaWYod2luZG93LmxvY2F0aW9uLmhyZWYgPT0gImh0dHBzOi8vbXR4aGlzdG9yeS5jb20vIiB8fCB3aW5kb3cubG9jYXRpb24uaHJlZiA9PSAiaHR0cDovL210eGhpc3RvcnkuY29tLyIgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYgPT0gImh0dHA6Ly93d3cubXR4aGlzdG9yeS5jb20vIiB8fCB3aW5kb3cubG9jYXRpb24uaHJlZiA9PSAiaHR0cHM6Ly93d3cubXR4aGlzdG9yeS5jb20vIiB8fCB3aW5kb3cubG9jYXRpb24uaHJlZiA9PSAiaHR0cHM6Ly9tdHhoaXN0b3J5LmNvbSIgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYgPT0gImh0dHA6Ly9tdHhoaXN0b3J5LmNvbSIgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYgPT0gImh0dHA6Ly93d3cubXR4aGlzdG9yeS5jb20iIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmID09ICJodHRwczovL3d3dy5tdHhoaXN0b3J5LmNvbSIpIHsKICAgICAgdGhpcy5nZXRVcGRhdGVEYXRhKCk7CiAgICAgIHNldEludGVydmFsKHRoaXMuZ2V0U2VhcmNoRGF0YSwgMTAwMCk7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Footer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Footer.vue","sourceRoot":"src/components/Footer","sourcesContent":["<template>\r\n    <div id=\"footer\">\r\n      <div id=\"appDescription\">\r\n        <p>\r\n          This is a fan made website for the daily deals available on Path of Exile (PoE) Shop and their historical prices.\r\n        </p>\r\n        <p>\r\n          Please support MTX History website and development on <a href=\"https://www.patreon.com/mtxhistory\" target=\"_blank\">Patreon</a>. Every little bit helps!\r\n        </p>\r\n        <p>\r\n          All videos and microtransaction data are from <a href=\"https://www.pathofexile.com/shop/category/daily-deals\" target=\"_blank\">https://www.pathofexile.com/shop/category/daily-deals</a>\r\n        </p>\r\n        <p>\r\n          All images are from <a href=\"https://pathofexile.gamepedia.com\" target=\"_blank\">https://pathofexile.gamepedia.com</a>\r\n        </p>\r\n        <p>\r\n          <a target=\"_blank\" href=\"https://icons8.com/icons/set/queen-uk\">Queen Crown icon</a> icon by <a target=\"_blank\" href=\"https://icons8.com\">Icons8</a>\r\n        </p>\r\n      </div>\r\n      <div id=\"appInfo\">\r\n        <h5>MTX History {{ year }}</h5>\r\n        <h6>Version {{ version }}</h6>\r\n        <h6 v-if=\"isSearch()\">Last updated NZDT {{ lastUpdated }}</h6>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import axios from 'axios'\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        version: '1.1',\r\n        year: '2020',\r\n        lastUpdate: ''\r\n      }\r\n    },\r\n\r\n    computed: {\r\n      lastUpdated() {\r\n        return this.lastUpdate;\r\n      }\r\n    },\r\n\r\n    methods: {\r\n      getNZTime() {\r\n        return new Promise(resolve => {\r\n          axios\r\n          .get('https://worldtimeapi.org/api/timezone/Pacific/Auckland')\r\n          .then(data => {\r\n            var NZTime = data.data.datetime;\r\n            resolve([NZTime.substr(0,10), NZTime.split('+')[0]]);\r\n          })\r\n          .catch(() => {\r\n            console.log('Database booting up or under maintenance!')\r\n          });\r\n        })\r\n      },\r\n\r\n      updateDaily() {\r\n        var config = {\r\n          method: 'put',\r\n          url: 'https://mtxhistory-backend.herokuapp.com/update/daily',\r\n          headers: { }\r\n        };\r\n        axios(config)\r\n        .then(function (response) {\r\n          var dateConfig = {\r\n            method: 'put',\r\n            url: 'https://mtxhistory-backend.herokuapp.com/update/setLastUpdate',\r\n            headers: {}\r\n          }\r\n          axios(dateConfig)\r\n          .then(function (response) {\r\n            console.log('Setting last update!');\r\n            console.log(JSON.stringify(response.data));\r\n            location.reload();\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n          console.log(JSON.stringify(response.data));\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n      },\r\n\r\n      getUpdateData() {\r\n        if(this.lastUpdate == ''){\r\n          axios\r\n          .get('https://mtxhistory-backend.herokuapp.com/update/getLastUpdate')\r\n          .then( async data => {\r\n            this.lastUpdate = data.data[0].updateDate;\r\n            var NZTime = await this.getNZTime();\r\n            if(NZTime[0] > this.lastUpdate && (Date.parse(NZTime[1])-Date.parse(this.lastUpdate +' 16:05'))/36e5 > 24.02) {\r\n              this.updateDaily();\r\n            }\r\n            else {\r\n              console.log('All is up to date!');\r\n              this.lastUpdate = NZTime[0];\r\n            }\r\n          })\r\n          .catch(() => {\r\n            console.log('Database booting up or under maintenance!')\r\n          });\r\n        }\r\n      },\r\n\r\n      isSearch() {\r\n        if(window.location.href == \"https://mtxhistory.com/\" || window.location.href == \"http://mtxhistory.com/\" || window.location.href == \"http://www.mtxhistory.com/\" || window.location.href == \"https://www.mtxhistory.com/\" || window.location.href == \"https://mtxhistory.com\" || window.location.href == \"http://mtxhistory.com\" || window.location.href == \"http://www.mtxhistory.com\" || window.location.href == \"https://www.mtxhistory.com\")\r\n          return true;\r\n        else\r\n          return false;\r\n      }\r\n    },\r\n\r\n    mounted(){\r\n      if(window.location.href == \"https://mtxhistory.com/\" || window.location.href == \"http://mtxhistory.com/\" || window.location.href == \"http://www.mtxhistory.com/\" || window.location.href == \"https://www.mtxhistory.com/\" || window.location.href == \"https://mtxhistory.com\" || window.location.href == \"http://mtxhistory.com\" || window.location.href == \"http://www.mtxhistory.com\" || window.location.href == \"https://www.mtxhistory.com\") {\r\n        this.getUpdateData();\r\n        setInterval(this.getSearchData, 1000);\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  h5 {\r\n    text-align: right;\r\n    margin-bottom: 5px;\r\n  }\r\n\r\n  h6 {\r\n    margin: 0px;\r\n    text-align: right;\r\n    padding-bottom: 10px;\r\n  }\r\n\r\n  p {\r\n    font-size: small;\r\n  }\r\n\r\n  #appDescription{\r\n    float: left;\r\n    width: 70%;\r\n  }\r\n\r\n  #appInfo {\r\n    float: right;\r\n    width: 20%;\r\n  }\r\n</style>"]}]}