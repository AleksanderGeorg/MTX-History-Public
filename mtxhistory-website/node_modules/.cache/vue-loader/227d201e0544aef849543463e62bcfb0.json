{"remainingRequest":"C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\src\\components\\Content\\Search\\Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\src\\components\\Content\\Search\\Search.vue","mtime":1604097288361},{"path":"C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\aleks\\Documents\\Programming\\mtxhistory\\mtxhistory-website\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IE1UWCBmcm9tICcuL01UWC9NVFgudnVlJwppbXBvcnQgSG90IGZyb20gJy4vSG90L0hvdC52dWUnCgppbXBvcnQgQWRDb250YWluZXIgZnJvbSAnLi9BZENvbnRhaW5lci52dWUnCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgJ210eCc6IE1UWCwKICAgICdob3QnOiBIb3QsCiAgICAnYWQtY29udGFpbmVyJzogQWRDb250YWluZXIKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoRGF0YToge30sCiAgICAgIHNlYXJjaFZhbHVlOiAiIiwKICAgICAgZGVhbDoge30sCiAgICAgIG10eEhpc3Rvcnk6IHt9LAogICAgICBhbGxNVFhTOiBmYWxzZSwKICAgICAgZmlsdGVyVGV4dDogJ1Nob3cgYWxsIG1pY3JvdHJhbnNhY3Rpb24gaGlzdG9yeScKICAgIH0KICB9LAoKICBjb21wdXRlZDogewogICAgZ2V0RGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRGF0YTsKICAgIH0sCgogICAgZ2V0UmFuZG9tRGVhbHMoKSB7CiAgICAgIGlmKHRoaXMuZ2V0RGF0YS5sZW5ndGggPj0gNCkgewogICAgICAgIHZhciBpbmRleCA9IFtdOwogICAgICAgIHZhciBzZWxlY3RlZE1UWCA9IFtdOwogICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmdldERhdGEubGVuZ3RoOyBpKyspCiAgICAgICAgICBpbmRleFtpXSA9IGk7CiAgICAgICAgdmFyIHNlbGVjdGVkSW5kZXggPSB0aGlzLnNodWZmbGUoaW5kZXgpOwogICAgICAgIGZvcihpID0gMDsgaSA8IHNlbGVjdGVkSW5kZXgubGVuZ3RoOyBpKyspCiAgICAgICAgICBzZWxlY3RlZE1UWFtpXSA9IHRoaXMuZ2V0RGF0YVtzZWxlY3RlZEluZGV4W2ldXTsKICAgICAgICByZXR1cm4gc2VsZWN0ZWRNVFg7CiAgICAgIH0KICAgICAgZWxzZSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YTsKICAgICAgfQogICAgfSwKCiAgICBnZXRMb2FkZWRTdGF0dXMoKSB7CiAgICAgIGlmKHRoaXMuZ2V0RGF0YS5sZW5ndGggPiAwKQogICAgICAgIHJldHVybiB0cnVlOwogICAgICBlbHNlIAogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCgogICAgZ2V0QWxsTVRYUygpIHsKICAgICAgcmV0dXJuIHRoaXMuYWxsTVRYUzsKICAgIH0sCgogICAgZ2V0RmlsdGVyVGV4dCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyVGV4dDsKICAgIH0sCgogICAgZ2V0SGlzdG9yeSgpIHsKICAgICAgcmV0dXJuIHRoaXMubXR4SGlzdG9yeTsKICAgIH0KICB9LAoKICBtZXRob2RzOiB7CiAgICBnZXRNVFgoaW5kZXgpewogICAgICByZXR1cm4gdGhpcy5nZXREYXRhW2luZGV4XTsKICAgIH0sCgogICAgZ2V0TVRYRnJvbUhpc3RvcnkoaW5kZXgpewogICAgICByZXR1cm4gdGhpcy5tdHhIaXN0b3J5W2luZGV4XTsKICAgIH0sCgogICAgZ2V0SGlkZGVuU3RhdHVzKHBhcnRpYWxOYW1lLCBtdHhOYW1lKXsKICAgICAgaWYobXR4TmFtZS5pbmNsdWRlcyhwYXJ0aWFsTmFtZSkpCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICBlbHNlCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAoKICAgIGdldFN0cmluZ0Zyb21KU09OKEpTT05PYmplY3QpewogICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoSlNPTk9iamVjdCkudG9Mb3dlckNhc2UoKTsKICAgIH0sCgogICAgc2h1ZmZsZShhcnJheSkgewogICAgICB2YXIgY3VycmVudEluZGV4ID0gYXJyYXkubGVuZ3RoLCB0ZW1wb3JhcnlWYWx1ZSwgcmFuZG9tSW5kZXg7CiAgICAgIHdoaWxlICgwICE9PSBjdXJyZW50SW5kZXgpIHsKICAgICAgICByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGN1cnJlbnRJbmRleCk7CiAgICAgICAgY3VycmVudEluZGV4IC09IDE7CiAgICAgICAgdGVtcG9yYXJ5VmFsdWUgPSBhcnJheVtjdXJyZW50SW5kZXhdOwogICAgICAgIGFycmF5W2N1cnJlbnRJbmRleF0gPSBhcnJheVtyYW5kb21JbmRleF07CiAgICAgICAgYXJyYXlbcmFuZG9tSW5kZXhdID0gdGVtcG9yYXJ5VmFsdWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBhcnJheS5zbGljZSgwLCA0KTsKICAgIH0sCgogICAgZ2V0U2VhcmNoRGF0YSgpIHsKICAgICAgaWYoIXRoaXMuc2VhcmNoRGF0YVswXSl7CiAgICAgICAgYXhpb3MKICAgICAgICAuZ2V0KCdodHRwczovL210eGhpc3RvcnktYmFja2VuZC5oZXJva3VhcHAuY29tL2FsbE1UWFMvJykKICAgICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICAgIHRoaXMuc2VhcmNoRGF0YSA9IGRhdGEuZGF0YTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgYm9vdGluZyB1cCBvciB1bmRlciBtYWludGVuYW5jZSEnKQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAoKICAgIGdldE1UWEhpc3RvcnkoKSB7CiAgICAgIGF4aW9zCiAgICAgIC5nZXQoJ2h0dHBzOi8vbXR4aGlzdG9yeS1iYWNrZW5kLmhlcm9rdWFwcC5jb20vbXR4SGlzdG9yeScpCiAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgIHRoaXMubXR4SGlzdG9yeSA9IGRhdGEuZGF0YTsKICAgICAgICB0aGlzLnRvZ2dsZUFsbE1UWFMoKTsKICAgICAgfSkKICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgYm9vdGluZyB1cCBvciB1bmRlciBtYWludGVuYW5jZSEnKQogICAgICB9KTsKICAgIH0sCgogICAgdG9nZ2xlQWxsTVRYUygpIHsKICAgICAgaWYoIXRoaXMubXR4SGlzdG9yeVswXSkgewogICAgICAgIHRoaXMuZ2V0TVRYSGlzdG9yeSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYWxsTVRYUyA9ICF0aGlzLmFsbE1UWFM7CiAgICAgICAgaWYodGhpcy5hbGxNVFhTID09IHRydWUpCiAgICAgICAgICB0aGlzLmZpbHRlclRleHQgPSAnU2hvdyBvbmx5IGRhaWx5IGRlYWxzJwogICAgICAgIGVsc2UgaWYodGhpcy5hbGxNVFhTID09IGZhbHNlKQogICAgICAgICAgdGhpcy5maWx0ZXJUZXh0ID0gJ1Nob3cgYWxsIG1pY3JvdHJhbnNhY3Rpb24gaGlzdG9yeScKICAgICAgfQogICAgfQogIH0sCgogIG1vdW50ZWQoKXsKICAgIHRoaXMuZ2V0U2VhcmNoRGF0YSgpOwogICAgc2V0SW50ZXJ2YWwodGhpcy5nZXRTZWFyY2hEYXRhLCAzMDAwKTsKICB9Cn0K"},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Search.vue","sourceRoot":"src/components/Content/Search","sourcesContent":["<template>\r\n  <div>\r\n    <ad-container v-if=\"false\"></ad-container>\r\n    <div id=\"hottestList\">\r\n      <hot v-for=\"(deal, index) in getRandomDeals\" :key=\"index\" :deal=\"deal\"></hot>\r\n    </div>\r\n    <div id=\"allList\">\r\n      <p>These are the special offers from Path of Exile today.</p>\r\n      <input autocomplete=\"off\" v-model=\"searchValue\" id=\"searchInput\" type=\"text\" placeholder=\"Search for a deal ...\" />\r\n      <div id=\"allMTXS\" @click=\"this.toggleAllMTXS\">\r\n        <p id=\"toggleText\"><strong>{{ this.getFilterText }}</strong></p>\r\n      </div>\r\n      <p id=\"load\" v-if=\"!getLoadedStatus\">Loading deals...</p>\r\n      <div v-if=\"!this.getAllMTXS\" class=\"searchMTXS\">\r\n        <mtx v-for=\"(mtx, index) in getData\" :key=\"index\" :mtxData=\"getMTX(index)\" :hidden=\"getHiddenStatus(searchValue, getStringFromJSON(getMTX(index).mtxName))\"></mtx>\r\n      </div>\r\n      <div v-if=\"this.getAllMTXS\" class=\"searchMTXS\">\r\n        <mtx v-for=\"(mtx, index) in getHistory\" :key=\"index\" :mtxData=\"getMTXFromHistory(index)\" :hidden=\"getHiddenStatus(searchValue, getStringFromJSON(getMTXFromHistory(index).mtxName))\"></mtx>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import axios from 'axios'\r\n  import MTX from './MTX/MTX.vue'\r\n  import Hot from './Hot/Hot.vue'\r\n\r\n  import AdContainer from './AdContainer.vue'\r\n\r\n  export default {\r\n    components: {\r\n      'mtx': MTX,\r\n      'hot': Hot,\r\n      'ad-container': AdContainer\r\n    },\r\n\r\n    data() {\r\n      return {\r\n        searchData: {},\r\n        searchValue: \"\",\r\n        deal: {},\r\n        mtxHistory: {},\r\n        allMTXS: false,\r\n        filterText: 'Show all microtransaction history'\r\n      }\r\n    },\r\n\r\n    computed: {\r\n      getData() {\r\n        return this.searchData;\r\n      },\r\n\r\n      getRandomDeals() {\r\n        if(this.getData.length >= 4) {\r\n          var index = [];\r\n          var selectedMTX = [];\r\n          for(var i = 0; i < this.getData.length; i++)\r\n            index[i] = i;\r\n          var selectedIndex = this.shuffle(index);\r\n          for(i = 0; i < selectedIndex.length; i++)\r\n            selectedMTX[i] = this.getData[selectedIndex[i]];\r\n          return selectedMTX;\r\n        }\r\n        else {\r\n          return this.getData;\r\n        }\r\n      },\r\n\r\n      getLoadedStatus() {\r\n        if(this.getData.length > 0)\r\n          return true;\r\n        else \r\n          return false;\r\n      },\r\n\r\n      getAllMTXS() {\r\n        return this.allMTXS;\r\n      },\r\n\r\n      getFilterText() {\r\n        return this.filterText;\r\n      },\r\n\r\n      getHistory() {\r\n        return this.mtxHistory;\r\n      }\r\n    },\r\n\r\n    methods: {\r\n      getMTX(index){\r\n        return this.getData[index];\r\n      },\r\n\r\n      getMTXFromHistory(index){\r\n        return this.mtxHistory[index];\r\n      },\r\n\r\n      getHiddenStatus(partialName, mtxName){\r\n        if(mtxName.includes(partialName))\r\n          return false;\r\n        else\r\n          return true;\r\n      },\r\n\r\n      getStringFromJSON(JSONObject){\r\n        return JSON.stringify(JSONObject).toLowerCase();\r\n      },\r\n\r\n      shuffle(array) {\r\n        var currentIndex = array.length, temporaryValue, randomIndex;\r\n        while (0 !== currentIndex) {\r\n          randomIndex = Math.floor(Math.random() * currentIndex);\r\n          currentIndex -= 1;\r\n          temporaryValue = array[currentIndex];\r\n          array[currentIndex] = array[randomIndex];\r\n          array[randomIndex] = temporaryValue;\r\n        }\r\n\r\n        return array.slice(0, 4);\r\n      },\r\n\r\n      getSearchData() {\r\n        if(!this.searchData[0]){\r\n          axios\r\n          .get('https://mtxhistory-backend.herokuapp.com/allMTXS/')\r\n          .then(data => {\r\n            this.searchData = data.data;\r\n          })\r\n          .catch(() => {\r\n            console.log('Database booting up or under maintenance!')\r\n          });\r\n        }\r\n      },\r\n\r\n      getMTXHistory() {\r\n        axios\r\n        .get('https://mtxhistory-backend.herokuapp.com/mtxHistory')\r\n        .then(data => {\r\n          this.mtxHistory = data.data;\r\n          this.toggleAllMTXS();\r\n        })\r\n        .catch(() => {\r\n          console.log('Database booting up or under maintenance!')\r\n        });\r\n      },\r\n\r\n      toggleAllMTXS() {\r\n        if(!this.mtxHistory[0]) {\r\n          this.getMTXHistory();\r\n        } else {\r\n          this.allMTXS = !this.allMTXS;\r\n          if(this.allMTXS == true)\r\n            this.filterText = 'Show only daily deals'\r\n          else if(this.allMTXS == false)\r\n            this.filterText = 'Show all microtransaction history'\r\n        }\r\n      }\r\n    },\r\n\r\n    mounted(){\r\n      this.getSearchData();\r\n      setInterval(this.getSearchData, 3000);\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  #searchInput {\r\n    width: 40%;\r\n    background-color: #ddd6bf;\r\n    color: #1b1818;\r\n    font-size: large;\r\n    padding: 5px 3px 5px 3px;\r\n    display: block;\r\n    margin-left: 10px;\r\n    margin-right: auto;\r\n    border-radius: 4px;\r\n    border: 1px solid #7c5436;\r\n    margin-bottom: 15px;\r\n  }\r\n\r\n  p {\r\n    font-size: large;\r\n    margin: 10px;\r\n  }\r\n\r\n  #hottestList {\r\n    display: inline-flex;\r\n    width: 98%;\r\n  }\r\n\r\n  #allMTXS {\r\n    margin-bottom: 15px;\r\n  }\r\n\r\n  .searchMTXS, #allMTXS {\r\n    margin-left: 0px;\r\n  }\r\n\r\n  #toggleText {\r\n    cursor: pointer;\r\n    color: #e06f18;\r\n  }\r\n\r\n  #toggleText:hover {\r\n    color: #ff8f39;\r\n  }\r\n</style>"]}]}